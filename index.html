<!DOCTYPE html>
<html tabindex="-1">
  <head>  
    <script src="bower_components/japi/mocks/mockJapi.js" type="text/javascript"></script>
    <script src="bower_components/japi/js/japi.js" type="text/javascript"></script>

    <script src="bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
    <script src="bower_components/angular/angular.js" type="text/javascript"></script>
    <script src="bower_components/angular-animate/angular-animate.js" type="text/javascript"></script>
    <script src="bower_components/sopro-material/js/angular-material.js" type="text/javascript"></script>
    <!-- 
    <script src="bower_components/material-titlebar/titlebar.js" type="text/javascript"></script>
    -->

    <!-- Keep app.js at the end -->
    <script src="js/app.js" type="text/javascript"></script>

    <link rel="stylesheet" type="text/css" href="bower_components/sopro-material/css/angular-material.css">

    <link rel="stylesheet" type="text/css" href="bower_components/roboto/2014/roboto-woff.css">
    <link rel="stylesheet" type="text/css" href="bower_components/sopro-material/css/sopro-material.css">
    <link rel="stylesheet" type="text/css" href="css/custom.css">
  </head>
  <body unresolved ng-app="app" ng-controller="appCtrl" tabindex="-1">

    <div id="applicationContainer" layout="horizontal" layout-fill>

      <material-sidenav class="material-sidenav-left material-whiteframe-z2" component-id="left">
        <material-toolbar class="material-theme-light">
          <h1 id="navMenuTitle" class="material-toolbar-tools">Society Pro</h1>
          <span flex></span>
        </material-toolbar>
        <material-content flex>
          <div>
            <material-button block class="menu-item menu-sub-item" ng-repeat="group in menu.groups" ng-class="{active: menu.isGroupSelected(group)}" ng-click="menu.selectGroup(group); $event.stopImmediatePropagation()">
              <span ng-bind="group"></span>
              <material-ripple initial-opacity="0.4" opacity-decay-velocity="1.75"></material-ripple>
            </material-button>
          </div>
        </material-content>
      </material-sidenav>

      <div layout="vertical" layout-fill>
        <material-toolbar scroll-shrink class="material-theme-dark">
          <div layout="horizontal">
            <div class="material-toolbar-tools">
              <div class="menu-icon" ng-click="toggleMenu()">
                <img src="material-icons/icons/system_icons/navigation/res/1x_web/ic_menu_wht_48dp.png">
              </div>
              <h2 id="toolTitle">Groups & Governance</h2>
            </div>
            <div id="viewButtons" layout="horizontal">
              <material-button id="streamButton" class="material-button-icon" ng-click="streamView()">
                <img src="material-icons/icons/system_icons/action/res/1x_web/ic_view_stream_wht_48dp.png">
              </material-button>
              <material-button id="quiltButton" class="material-button-icon" ng-click="quiltView()">
                <img src="material-icons/icons/system_icons/action/res/1x_web/ic_view_quilt_wht_48dp.png">
              </material-button>
            </div>
          </div>
        </material-toolbar>
        <div class="content-padding" layout="vertical" flex>

          <div id="quickAddBox">
            <form name="quickAddForm" style="padding-left:20px;">
            <!--
              <material-input-group>
                <label for="quickAddTitle">Add a group...</label>
              </material-input-group>
            -->
              <material-input 
              name="quickAddTitle" 
              id="quickAddTitle" 
              type="text" 
              size="45" 
              ng-model="newGroupTitle"
              placeholder="Add a Group..."
              flex></material-input>
              <div id="quickAddAdditional" ng-show="quickAddForm.$dirty">
                <div class="custom-dropdown small">
                  <select 
                  ng-model="newGroupType" 
                  ng-options="groupType for groupType in groupTypes"></select>
                </div>
                <material-button id="quickAddButton" class="material-button-colored" ng-show="quickAddForm.$dirty" ng-click="newGroup()">
                  SAVE
                </material-button>
              </div>
            </form>
          </div>
          <!-- Quick Add Box original 
          <sopro-titlebar>
              <div id="quickAddAdditional" ng-show="quickAddForm.$dirty">
              <select ng-model="newGroupType" ng-options="groupType for groupType in groupTypes"></select>
              <material-button id="quickAddButton" class="material-button-colored" ng-show="quickAddForm.$dirty" ng-click="newGroup()">
                SAVE
              </material-button>
            </div>
          </sopro-titlebar>
          end Quick Add Box -->

          <!-- 
          <material-content 
          ng-class="{'groupListsContainer':true, 'quiltView':listView === 'quilt', 'streamView':listView === 'stream'}" 
          scroll-y flex>
          -->
          <material-content id="contentArea" flex>
            <div id= "myGroupsContainer" ng-if="listContains === 'myGroups'">
              <!-- material-card for groups -->  
              <div class="cardholder" 
              ng-repeat="group in myGroups"
              ng-mouseleave="group.overflow = false;"
              >
                <material-card 
                class="groupCard" 
                layout="vertical"
                ng-click="dialog($event, group)">
                  <div flex>
                    <h3>{{group.name}}</h3>
                    <div class="lightDetails" layout="horizontal">
                      <span flex class='groupType'> {{group.type}} </span>
                      <img ng-src="material-icons/icons/system_icons/social/res/1x_web/ic_group_18dp.png"> 
                      <span class="groupMemberLength"> {{group.members.length}} </span>
                    </div>
                  </div>
                  
                <div class="cardMenuBar" 
                  layout="horizontal" 
                  layout-align="end center">
                    <material-button 
                    class="overflowMenuButton material-button-icon" 
                    ng-click="overflowToggle(group); $event.stopPropagation()"
                    layout="horizontal"
                    layout-align="center center" 
                    >
                      <img 
                      class="overflowMenuIcon"
                      ng-src="material-icons/icons/system_icons/action/res/1x_web/ic_drawer_wht_18dp.png">
                    </material-button>
                  </div>

                </material-card>
                <material-card class="overflowMenu animate-show" ng-show="group.overflow">
                  <a block class="overflowDuplicate"
                  ng-click="duplicateGroup(group)">Duplicate Group</a>
                  <a block class="overflowDelete"
                  ng-click="deleteGroup(group)">Delete Group</a>
                </material-card>
              </div>
            </div>
          </material-content>
        </div>
      </div>

    </div>
    <script>
      
    </script>
  </body>
</html>
              <!-- end material-card for groups -->

              <!-- Quilt View 
              <div ng-show="listView === 'quilt'">
              </div>
              -->



              <!-- Stream View 
              <material-list ng-show="listView === 'stream'">
                <material-item ng-repeat="group in myGroups" ng-click="toggleGroup(group)">
                  <div class="material-tile-left">
                    <img ng-src="material-icons/icons/system_icons/social/res/2x_web/ic_group_48dp.png" class="face">
                  </div>
                  <div class="material-tile-content">
                    <h2>{{group.name}}</h2>
                    {{group.type}}
                    <material-list>
                      <div  ng-show="group.isActive === true" class="animate-show">
                        
                        <material-item ng-repeat="member in group.members">
                          <div class="material-tile-left">
                            <img ng-src="material-icons/icons/system_icons/social/res/2x_web/ic_person_48dp.png" class="face">
                          </div>
                          <div class="material-tile-content">
                            <h2>{{member.name || member.id}}</h2>
                          </div>
                        </material-item>
                      
                      </div>
                    </material-list>
                  </div>
                  
                </material-item>
              </material-list>
              -->
